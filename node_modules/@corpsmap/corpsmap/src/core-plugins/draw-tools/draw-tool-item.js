import React from 'react';
import classnames from 'classnames';

class DrawToolItem extends React.Component {
  constructor(props){
    super(props);
    this.toggleVisible = this.toggleVisible.bind(this);
    this.renderTextContent = this.renderTextContent.bind(this);
    this.renderVisibilityIcon = this.renderVisibilityIcon.bind(this);
  }

  toggleVisible(e){
    e.preventDefault()
    e.stopPropagation()
    const { onToggleVisibility } = this.props;
    onToggleVisibility();
  }

  renderTextContent(){
    const { liveDangerously, text } = this.props;
    if(!liveDangerously) return text;
    return (
      <span dangerouslySetInnerHTML={{__html: text}}></span>
    )
  }

  renderVisibilityIcon(){
    const { visible } = this.props;
    const submenuCls = classnames({
      'pull-right': true
    })
    const iconClass = classnames({
      'mdi': true,
      'mdi-eye': visible,
      'text-primary': visible,
      'mdi-eye-off': !visible
    })
    return (
      <div 
        onClick={this.toggleVisible} 
        className={submenuCls} 
        style={{position:'relative',right:'-20px'}}
        title="Show/Hide"
      >
        <i className={iconClass} />
      </div>
    )
  }

  render(){
    const { active, passProps, onClick, iconClass } = this.props;
    const itemClass = classnames({
      'active': active
    })
    return (
      <li className={ itemClass } {...passProps} onClick={onClick} style={{paddingRight:'20px'}}>
        <span>
          { this.renderVisibilityIcon() }
          <i className={ iconClass } />
          { this.renderTextContent() }
        </span>
      </li>
    )
  }
}

export default DrawToolItem;