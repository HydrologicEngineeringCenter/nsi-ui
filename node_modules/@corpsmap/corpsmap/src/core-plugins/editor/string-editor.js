import React from 'react';
import EditorBase from './editor-base';

class StringEditor extends EditorBase {

  constructor(props){
    super(props);

    this.state = {
      val: props.value,
      size: props.column.size
    }

    this.handleChange = this.handleChange.bind(this);
  }

  handleChange(e){
    const { size } = this.state;
    let val = e.currentTarget.value;

    if(val.length > size) val = val.substring(0, size);

    this.setState({
      val: val
    })
  }


  render(){
    const { val } = this.state;
    return (
      <input 
        ref={(el) => { this.input = el }}
        value={ val }
        onBlur={this.props.onBlur}
        onChange={this.handleChange}
      />
    )
  }
}

export default StringEditor;