import React from "react";
import TreeList from "./tree-list";
import _ from "lodash";
import TreeListItemDataset from "./tree-list-item-dataset";
import TreeListItemFolder from "./tree-list-item-folder";
import { connect } from "redux-bundler-react";

class TreeListItem extends React.Component {
  render() {
    const { item } = this.props;
    var isOverCurrent = this.props.isOverCurrent;
    var isFolder = !item.leaf;

    const ItemComp = isFolder ? TreeListItemFolder : TreeListItemDataset;

    return (
      <li className="cm-tree-list-item">
        <ItemComp item={item} isOver={isOverCurrent} />
        <TreeList items={item.children} collapsed={item.collapsed} />
      </li>
    );
  }
}

export default connect(
  "doTreeInsertAfter",
  "doTreeInsertBefore",
  "doTreeInsertChild",
  "doTreeMerge",
  "doTreeRemove",
  "doTreeInsertIntoRoot",
  "selectTreeViewRootId",
  "selectLayerFilterString",
  TreeListItem
);
