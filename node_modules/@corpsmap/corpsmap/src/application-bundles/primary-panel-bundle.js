import createContainerBundle from './_create-container-bundle';
import { createSelector } from 'redux-bundler';

export default createContainerBundle({
  name: 'primaryPanel',
  additionalState: {
    width: 300
  },
  additionalActions: ['PRIMARY_PANEL_RESIZED'],
  addons: {
    "doPrimaryPanelResize": ({ width }) => ({ dispatch, store }) => {
      dispatch({ type: 'PRIMARY_PANEL_RESIZED', payload: { width: width }});
    },
    "selectPrimaryPanelWidth": (state) => {
      return state.primaryPanel.width;
    },
    "selectPrimaryPanelTop": createSelector(
      'selectComponentsBasicToolbarCount',
      (cnt) => {
        if(cnt > 0) return 42;
        return 0;
      }
    )
  }
})